┌─────────────────────────────────────────────────────────────────────┐
│                         SBT Control Plane                          │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐     │
│  │  Tenant Mgmt    │  │  User Mgmt      │  │  Admin Portal   │     │
│  │  • Onboarding   │  │  • Cognito      │  │  • Dashboard    │     │
│  │  • Basic Tier   │  │  • RBAC         │  │  • Billing      │     │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘     │
└─────────────────────────────────────────────────────────────────────┘
                                  │
                                  ▼
┌─────────────────────────────────────────────────────────────────────┐
│                      Application Plane                             │
│                                                                     │
│  ┌─────────────────────────────────────────────────────────────┐   │
│  │                   Frontend (Amplify)                       │   │
│  │                                                             │   │
│  │  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────┐ │   │
│  │  │  React Web UI   │  │  File Upload    │  │  Results    │ │   │
│  │  │                 │  │                 │  │  Dashboard  │ │   │
│  │  │ • Login/Signup  │  │ • S3 Direct     │  │ • Reports   │ │   │
│  │  │ • Tenant Switch │  │ • Progress      │  │ • History   │ │   │
│  │  │ • Multi-tenant  │  │ • Multi-format  │  │ • Export    │ │   │
│  │  └─────────────────┘  └─────────────────┘  └─────────────┘ │   │
│  └─────────────────────────────────────────────────────────────┘   │
│                                  │                                  │
│                                  ▼                                  │
│  ┌─────────────────────────────────────────────────────────────┐   │
│  │                Backend (Serverless)                        │   │
│  │                                                             │   │
│  │  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────┐ │   │
│  │  │  API Gateway    │  │  Lambda         │  │  Step       │ │   │
│  │  │                 │  │  Functions      │  │  Functions  │ │   │
│  │  │ • REST API      │  │                 │  │             │ │   │
│  │  │ • GraphQL       │  │ • File Process  │  │ • Workflow  │ │   │
│  │  │ • Tenant        │  │ • IaC Analysis  │  │ • Progress  │ │   │
│  │  │   Context       │  │ • Report Gen    │  │ • Error     │ │   │
│  │  │ • Rate Limit    │  │ • Account Scan  │  │   Handling  │ │   │
│  │  └─────────────────┘  └─────────────────┘  └─────────────┘ │   │
│  └─────────────────────────────────────────────────────────────┘   │
│                                  │                                  │
│                                  ▼                                  │
│  ┌─────────────────────────────────────────────────────────────┐   │
│  │                    Storage Layer                           │   │
│  │                                                             │   │
│  │  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────┐ │   │
│  │  │  DynamoDB       │  │  S3 Buckets     │  │  Bedrock    │ │   │
│  │  │  (Pool Model)   │  │                 │  │             │ │   │
│  │  │                 │  │ • Files per     │  │ • Claude    │ │   │
│  │  │ • tenant_id +   │  │   Tenant        │  │ • Titan     │ │   │
│  │  │   partition     │  │ • Results       │  │ • Knowledge │ │   │
│  │  │ • Row-Level     │  │ • Templates     │  │   Base      │ │   │
│  │  │   Security      │  │ • Reports       │  │             │ │   │
│  │  └─────────────────┘  └─────────────────┘  └─────────────┘ │   │
│  └─────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────┘
